<html>
	<head>
		<script src="http://code.jquery.com/jquery-1.9.1.min.js" language="javascript"></script>
		<script src="/socket.io/socket.io.js"></script>
		<script  type="text/javascript" language="javascript">

			var socket = null;

			function printCors(data) {

				console.log(data);
				//alert(cors);

				$('#alpha span').html(data.alpha);
				$('#beta span').html(data.beta);
				$('#gamma span').html(data.gamma);

				if (data.gamma > -60 && data.gamma > 0) {
					console.log("increase velocity. gamma=" + data.gamma);
					socket.emit('up', {});
				} else if (data.gamma < -60 && data.gamma > -90) {
					console.log('decrease velocity. gamma=' + data.gamma);
					socket.emit('down', {});	
				} else {
					//console.log('std velocity gamma=' + data.gamma);
					//playerEntity.vel.y = playerEntity.constVelocity;	
				}

				if (data.beta > 0) {

					//console.log("Beta is moving box right. Possition: ");
					socket.emit('right', {});

				} else if (data.beta < 0 ) {
					console.log("Beta is moving box left.");
					socket.emit('left', {});
				}
			}

			function onOrientation(event) {
				var cor = {'alpha': event.alpha, 'beta': event.beta, 'gamma': event.gamma};
		        
		        printCors(cor);
			}

			function shoot() {
				socket.emit('shoot');
			}

			$(document).ready(function() {
				socket = io.connect();

				window.addEventListener('deviceorientation', onOrientation);


				$('body').on('click', function() {
					$('body').append('clicked');
					shoot();
				});
			});
			

		</script>
	</head>
	<body>

		<h1>Click Anywhere to Fire!</h1>

		<div id="alpha">Alpha: <span></span></div>
		<div id="beta">Beta: <span></span></div>
		<div id="gamma">Gamma: <span></span></div>

	</body>
</html>
